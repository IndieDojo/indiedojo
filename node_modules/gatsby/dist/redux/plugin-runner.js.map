{"version":3,"sources":["../../src/redux/plugin-runner.js"],"names":["require","store","emitter","apiRunnerNode","on","node","getState","nodes","action","payload","id","traceId","page","plugin","name"],"mappings":";;AAAA;;eAE2BA,kB;IAAnBC,K,YAAAA,K;IAAOC,O,YAAAA,O;;AACf,IAAMC,gBAAgBH,mCAAtB;;AAEAE,QAAQE,EAAR,gBAA0B,kBAAU;AAClC,MAAMC,OAAOJ,MAAMK,QAAN,GAAiBC,KAAjB,CAAuBC,OAAOC,OAAP,CAAeC,EAAtC,CAAb;AACAP,gCAA8B,EAAEE,UAAF,EAAQM,SAASH,OAAOG,OAAxB,EAA9B;AACD,CAHD;;AAKAT,QAAQE,EAAR,gBAA0B,kBAAU;AAClC,MAAMQ,OAAOJ,OAAOC,OAApB;AACAN,gCAEE,EAAES,UAAF,EAAQD,SAASH,OAAOG,OAAxB,EAFF,EAGEH,OAAOK,MAAP,CAAcC,IAHhB;AAKD,CAPD","file":"plugin-runner.js","sourcesContent":["// Invoke plugins for certain actions.\n\nconst { store, emitter } = require(`./index`)\nconst apiRunnerNode = require(`../utils/api-runner-node`)\n\nemitter.on(`CREATE_NODE`, action => {\n  const node = store.getState().nodes[action.payload.id]\n  apiRunnerNode(`onCreateNode`, { node, traceId: action.traceId })\n})\n\nemitter.on(`CREATE_PAGE`, action => {\n  const page = action.payload\n  apiRunnerNode(\n    `onCreatePage`,\n    { page, traceId: action.traceId },\n    action.plugin.name\n  )\n})\n"]}